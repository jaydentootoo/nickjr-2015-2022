var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

"use strict";!function(){function q(a,b){function c(){}c.prototype=a;var d,e=new c;for(d in b)e[d]=b[d];return b.toString!==Object.prototype.toString&&(e.toString=b.toString),e}function ob(a){return a instanceof Array?function(){return y.iter(a)}:"function"==typeof a.iterator?Ca(a,a.iterator):a.iterator}function Ca(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=ub++);var c;return null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__],null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c),c}var e={},i=function(){return w.__string_rec(this,"")},O=function(a,b){b=b.split("u").join(""),this.r=RegExp(a,b)};e.EReg=O,O.__name__=!0,O.prototype={match:function(a){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(a),this.r.s=a,null!=this.r.m},__class__:O};var y=function(){};e.HxOverrides=y,y.__name__=!0,y.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c},y.substr=function(a,b,c){return null!=b&&0!=b&&null!=c&&0>c?"":(null==c&&(c=a.length),0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b),a.substr(b,c))},y.remove=function(a,b){var c=a.indexOf(b);return-1==c?!1:(a.splice(c,1),!0)},y.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var ea=function(){};e.Lambda=ea,ea.__name__=!0,ea.array=function(a){for(var b=[],a=ob(a)();a.hasNext();){var c=a.next();b.push(c)}return b},ea.count=function(a,b){var c=0;if(null==b)for(var d=ob(a)();d.hasNext();)d.next(),c++;else for(d=ob(a)();d.hasNext();){var e=d.next();b(e)&&c++}return c};var bb=function(){};e.IMap=bb,bb.__name__=!0,Math.__name__=!0;var J=function(){};e.Reflect=J,J.__name__=!0,J.field=function(a,b){try{return a[b]}catch(c){return null}},J.setField=function(a,b,c){a[b]=c};var W=function(){};e.Std=W,W.__name__=!0,W.is=function(a,b){return w.__instanceof(a,b)},W.string=function(a){return w.__string_rec(a,"")};var Da=function(){};e.StringTools=Da,Da.__name__=!0,Da.startsWith=function(a,b){return a.length>=b.length&&y.substr(a,0,b.length)==b};var fa=function(){};e.Type=fa,fa.__name__=!0,fa.getClass=function(a){return null==a?null:a instanceof Array&&null==a.__enum__?Array:a.__class__},fa.resolveClass=function(a){return a=e[a],null!=a&&a.__name__?a:null},fa.resolveEnum=function(a){return a=e[a],null!=a&&a.__ename__?a:null};var K=function(){};e["flambe.util.Disposable"]=K,K.__name__=!0;var s=function(){this._flags=0,this.owner=this.next=null};e["flambe.Component"]=s,s.__name__=!0,s.__interfaces__=[K],s.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:s};var ga=function(){s.call(this),this._document={canvasScale:1}};e["dnt.AutoScale"]=ga,ga.__name__=!0,ga.__super__=s,ga.prototype=q(s.prototype,{get_name:function(){return"AutoScale_5"},onAdded:function(){this._scaleSprite=this.owner._compMap.Sprite_1,this._document=eval("document")},onUpdate:function(){null!=this._document.canvasScale&&this._document.canvasScale!=this._scaleSprite.scaleX._value&&(this._scaleSprite.scaleX.set__(this._document.canvasScale),this._scaleSprite.scaleY.set__(this._document.canvasScale))},__class__:ga});var H=function(){this._localBase=this._remoteBase=null,this._entries=[]};e["flambe.asset.Manifest"]=H,H.__name__=!0,H.inferFormat=function(a){if(a=A.getUrlExtension(a),null!=a)switch(a.toLowerCase()){case"gif":return f.GIF;case"jpg":case"jpeg":return f.JPG;case"jxr":case"wdp":return f.JXR;case"png":return f.PNG;case"webp":return f.WEBP;case"dds":return f.DDS;case"pvr":return f.PVR;case"pkm":return f.PKM;case"m4a":return f.M4A;case"mp3":return f.MP3;case"ogg":return f.OGG;case"opus":return f.OPUS;case"wav":return f.WAV}return f.Data},H.prototype={add:function(a,b,c,d){return null==c&&(c=0),null==d&&(d=H.inferFormat(b)),a=new Ea(a,b,d,c),this._entries.push(a),a},iterator:function(){return y.iter(this._entries)},getFullURL:function(a){var b;return b=null!=this.get_remoteBase()&&H._supportsCrossOrigin?this.get_remoteBase():this.get_localBase(),null!=b?A.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){return null!=a&&cb.that(!Da.startsWith(a,"http://")&&!Da.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null),this._localBase=a},get_remoteBase:function(){return this._remoteBase},__class__:H};var h=function(){};e["dnt.Main"]=h,h.__name__=!0,h.main=function(){m.init(),m._platform.getExternal().bind("dntPlay",h.play)},h.play=function(a,b,c){if(h.manifest=new H,!h.isPlaying&&null!=a&&""!=a&&null!=b&&""!=b){for(h.fullPath=a+"/"+b,h.manifest.set_localBase(a),a=0;c>a;){var d=a++;h.manifest.add(h.fullPath+"/atlas"+(null==d?"null":""+d),b+"/atlas"+(null==d?"null":""+d)+".png")}h.manifest.add(h.fullPath+"/library.json",b+"/library.json"),m._platform.loadAssetPack(h.manifest).get(h.onSuccess)}},h.onSuccess=function(a){h.pack=a,m.root.add(new k),m.root.add(new ga),a=new Fa(a,h.fullPath),h.scene=new ha(a),h.scene.loop("dnt_mc"),h.scene.movie._value.get_looped().connect(function(){h.scene.movie._value.set_paused(!0),h.scene.movie._value.setAlpha(0),h.isPlaying=!1,m._platform.getExternal().call("dntFinished",[!0])}),h.sceneEntity=new L,h.sceneEntity.add(h.scene),m.root.addChild(h.sceneEntity),h.isPlaying=!0,m._platform.getExternal().call("dntStart",[!0]),h.playMovie()},h.playMovie=function(){h.scene.movie._value.set_paused(!1),h.scene.movie._value.setAlpha(1),h.sceneWidth=1024,h.sceneHeight=768};var L=function(){this.parent=this.firstChild=this.next=this.firstComponent=null,this._compMap={}};e["flambe.Entity"]=L,L.__name__=!0,L.__interfaces__=[K],L.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];for(null!=c&&this.remove(c),this._compMap[b]=a,b=null,c=this.firstComponent;null!=c;)b=c,c=c.next;return null!=b?b.next=a:this.firstComponent=a,a.owner=this,a.next=null,a.onAdded(),this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),delete this._compMap[c.get_name()],0!=(1&c._flags)&&(c.onStop(),c._flags&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c,c=d}return!1},addChild:function(a,b){if(null==b&&(b=!0),null!=a.parent&&a.parent.removeChild(a),a.parent=this,b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){null==b?this.firstChild=d:b.next=d,c.parent=null,c.next=null;break}b=c,c=d}},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:L};var db=function(){};e["flambe.util.PackageLog"]=db,db.__name__=!0;var Ga=function(){};e["flambe.platform.Platform"]=Ga,Ga.__name__=!0,Ga.prototype={__class__:Ga};var P=function(){};e["flambe.platform.html.HtmlPlatform"]=P,P.__name__=!0,P.__interfaces__=[Ga],P.prototype={init:function(){var a=this;j.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0"),b.style.outlineStyle="none",b.style.webkitTapHighlightColor="transparent",this._stage=new Q(b),this._pointer=new u,this._mouse=new ia(this._pointer,b),this._renderer=this.createRenderer(b),this.mainLoop=new R,this.musicPlaying=!1,this._canvas=b,this._container=b.parentElement,this._container.style.overflow="hidden",this._container.style.position="relative",this._container.style.msTouchAction="none";var d=0,e=function(c){if(!(1e3>c.timeStamp-d)){var e=b.getBoundingClientRect(),f=a.getX(c,e),e=a.getY(c,e);switch(c.type){case"mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(f,e,c.button),b.focus());break;case"mousemove":a._mouse.submitMove(f,e);break;case"mouseup":a._mouse.submitUp(f,e,c.button);break;case"mousewheel":case"DOMMouseScroll":a._mouse.submitScroll(f,e,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",e,!1),window.addEventListener("mousemove",e,!1),window.addEventListener("mouseup",e,!1),b.addEventListener("mousewheel",e,!1),b.addEventListener("DOMMouseScroll",e,!1),b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var f="undefined"!=typeof window.ontouchstart,e="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(f||e){var g=new ja(this._pointer,f?4:window.navigator.msMaxTouchPoints);this._touch=g,e=function(b){var c;c=f?b.changedTouches:[b];var e=b.target.getBoundingClientRect();switch(d=b.timeStamp,b.type){case"touchstart":case"MSPointerDown":case"pointerdown":for(b.preventDefault(),j.SHOULD_HIDE_MOBILE_BROWSER&&j.hideMobileBrowser(),b=0;b<c.length;){var h=c[b];++b;var i=a.getX(h,e),k=a.getY(h,e);g.submitDown(0|(f?h.identifier:h.pointerId),i,k)}break;case"touchmove":case"MSPointerMove":case"pointermove":for(b.preventDefault(),b=0;b<c.length;)h=c[b],++b,i=a.getX(h,e),k=a.getY(h,e),g.submitMove(0|(f?h.identifier:h.pointerId),i,k);break;case"touchend":case"touchcancel":case"MSPointerUp":case"pointerup":for(b=0;b<c.length;)h=c[b],++b,i=a.getX(h,e),k=a.getY(h,e),g.submitUp(0|(f?h.identifier:h.pointerId),i,k)}},f?(b.addEventListener("touchstart",e,!1),b.addEventListener("touchmove",e,!1),b.addEventListener("touchend",e,!1),b.addEventListener("touchcancel",e,!1)):(b.addEventListener("MSPointerDown",e,!1),b.addEventListener("MSPointerMove",e,!1),b.addEventListener("MSPointerUp",e,!1))}else this._touch=new ka;var h=window.onerror;window.onerror=function(a,b,c){return m.uncaughtError.emit(a),null!=h?h(a,b,c):!1};var i=j.loadExtension("hidden",window.document);null!=i.value?(e=function(){m.hidden.set__(J.field(window.document,i.field))},e(null),window.document.addEventListener(i.prefix+"visibilitychange",e,!1)):(e=function(a){m.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",e,!1),window.addEventListener("pagehide",e,!1)),m.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)}),this._skipFrame=!1,this._lastUpdate=Date.now();var k=j.loadExtension("requestAnimationFrame").value;if(null!=k){var l=window.performance,n=null!=l&&j.polyfill("now",l);n?this._lastUpdate=l.now():null;var o=null,o=function(c){a.update(n?l.now():c),k(o,b)};k(o,b)}else window.setInterval(function(){a.update(Date.now())},16);X.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},loadAssetPack:function(a){return new l(this,a).promise},update:function(a){var b=(a-this._lastUpdate)/1e3;this._lastUpdate=a,m.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getExternal:function(){return null==this._external&&(this._external=new la),this._external},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){return new S(a)},__class__:P};var B=function(a,b){this._value=a,this._changed=null!=b?new Y(b):null};e["flambe.util.Value"]=B,B.__name__=!0,B.prototype={watch:function(a){return a(this._value,this._value),this.get_changed().connect(a)},set__:function(a){var b=this._value;return a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b)),a},get_changed:function(){return null==this._changed&&(this._changed=new Y),this._changed},__class__:B};var T=function(a,b){this._next=null,this._signal=a,this._listener=b,this.stayInList=!0};e["flambe.util.SignalConnection"]=T,T.__name__=!0,T.__interfaces__=[K],T.prototype={once:function(){return this.stayInList=!1,this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:T};var t=function(a){this._head=null!=a?new T(this,a):null,this._deferredTasks=null};e["flambe.util.SignalBase"]=t,t.__name__=!0,t.prototype={connectImpl:function(a,b){var c=this,d=new T(this,a);return this._head==t.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(d,b)}):this.listAdd(d,b),d},disconnect:function(a){var b=this;this._head==t.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new Ia(a),null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;return this._head=t.DISPATCHING_SENTINEL,a},didEmit:function(a){for(this._head=a,a=this._deferredTasks,this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,d=this._head;null!=d;)c=d,d=d._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next,null==b?this._head=a:b._next=a;break}b=c,c=c._next}},__class__:t};var Y=function(a){t.call(this,a)};e["flambe.util.Signal2"]=Y,Y.__name__=!0,Y.__super__=t,Y.prototype=q(t.prototype,{connect:function(a,b){return null==b&&(b=!1),this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==t.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),d=c;null!=d;)d._listener(a,b),d.stayInList||d.dispose(),d=d._next;this.didEmit(c)},__class__:Y});var r=function(a){t.call(this,a)};e["flambe.util.Signal1"]=r,r.__name__=!0,r.__super__=t,r.prototype=q(t.prototype,{connect:function(a,b){return null==b&&(b=!1),this.connectImpl(a,b)},emit:function(a){var b=this;this._head==t.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:r});var z=function(a,b){this._behavior=null,B.call(this,a,b)};e["flambe.animation.AnimatedFloat"]=z,z.__name__=!0,z.__super__=B,z.prototype=q(B.prototype,{set__:function(a){return this._behavior=null,B.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(B.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},__class__:z});var m=function(){};e["flambe.System"]=m,m.__name__=!0,m.init=function(){m._calledInit||(m._platform.init(),m._calledInit=!0)};var X=function(){};e["flambe.Log"]=X,X.__name__=!0,X.info=function(){},X.__super__=db,X.prototype=q(db.prototype,{__class__:X});var Ja=function(){this._realDt=0};e["flambe.SpeedAdjuster"]=Ja,Ja.__name__=!0,Ja.__super__=s,Ja.prototype=q(s.prototype,{get_name:function(){return"SpeedAdjuster_4"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0),this.scale.update(a)},__class__:Ja});var eb=function(){};e["flambe.animation.Behavior"]=eb,eb.__name__=!0,eb.prototype={__class__:eb};var Z=function(){};e["flambe.asset.Asset"]=Z,Z.__name__=!0,Z.__interfaces__=[K];var f=e["flambe.asset.AssetFormat"]={__ename__:!0,__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};f.WEBP=["WEBP",0],f.WEBP.toString=i,f.WEBP.__enum__=f,f.JXR=["JXR",1],f.JXR.toString=i,f.JXR.__enum__=f,f.PNG=["PNG",2],f.PNG.toString=i,f.PNG.__enum__=f,f.JPG=["JPG",3],f.JPG.toString=i,f.JPG.__enum__=f,f.GIF=["GIF",4],f.GIF.toString=i,f.GIF.__enum__=f,f.DDS=["DDS",5],f.DDS.toString=i,f.DDS.__enum__=f,f.PVR=["PVR",6],f.PVR.toString=i,f.PVR.__enum__=f,f.PKM=["PKM",7],f.PKM.toString=i,f.PKM.__enum__=f,f.MP3=["MP3",8],f.MP3.toString=i,f.MP3.__enum__=f,f.M4A=["M4A",9],f.M4A.toString=i,f.M4A.__enum__=f,f.OPUS=["OPUS",10],f.OPUS.toString=i,f.OPUS.__enum__=f,f.OGG=["OGG",11],f.OGG.toString=i,f.OGG.__enum__=f,f.WAV=["WAV",12],f.WAV.toString=i,f.WAV.__enum__=f,f.Data=["Data",13],f.Data.toString=i,f.Data.__enum__=f;var Ea=function(a,b,c,d){this.name=a,this.url=b,this.format=c,this.bytes=d};e["flambe.asset.AssetEntry"]=Ea,Ea.__name__=!0,Ea.prototype={__class__:Ea};var ma=function(){};e["flambe.asset.AssetPack"]=ma,ma.__name__=!0,ma.__interfaces__=[K],ma.prototype={__class__:ma};var na=function(){};e["flambe.asset.File"]=na,na.__name__=!0,na.__interfaces__=[Z],na.prototype={__class__:na};var p=e["flambe.display.BlendMode"]={__ename__:!0,__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};p.Normal=["Normal",0],p.Normal.toString=i,p.Normal.__enum__=p,p.Add=["Add",1],p.Add.toString=i,p.Add.__enum__=p,p.Multiply=["Multiply",2],p.Multiply.toString=i,p.Multiply.__enum__=p,p.Screen=["Screen",3],p.Screen.toString=i,p.Screen.__enum__=p,p.Mask=["Mask",4],p.Mask.toString=i,p.Mask.__enum__=p,p.Copy=["Copy",5],p.Copy.toString=i,p.Copy.__enum__=p;var Ka=function(a,b){null==b&&(b=0),null==a&&(a=0),this.x=a,this.y=b};e["flambe.math.Point"]=Ka,Ka.__name__=!0,Ka.prototype={__class__:Ka};var k=function(){this.blendMode=this.scissor=null;var a=this;s.call(this),this._flags|=54,this._localMatrix=new La;var b=function(){a._flags|=24};this.x=new z(0,b),this.y=new z(0,b),this.rotation=new z(0,b),this.scaleX=new z(1,b),this.scaleY=new z(1,b),this.anchorX=new z(0,b),this.anchorY=new z(0,b),this.alpha=new z(1)};e["flambe.display.Sprite"]=k,k.__name__=!0,k.hitTest=function(a,b,c){var d=a._compMap.Sprite_1;if(null!=d){if(6!=(6&d._flags))return null;d.getLocalMatrix().inverseTransform(b,c,k._scratchPoint)&&(b=k._scratchPoint.x,c=k._scratchPoint.y);var e=d.scissor;if(null!=e&&!e.contains(b,c))return null}return a=k.hitTestBackwards(a.firstChild,b,c),null!=a?a:null!=d&&d.containsLocal(b,c)?d:null},k.render=function(a,b){var c=a._compMap.Sprite_1;if(null!=c){var d=c.alpha._value;if(0==(2&c._flags)||0>=d)return;b.save(),1>d&&b.multiplyAlpha(d),null!=c.blendMode&&b.setBlendMode(c.blendMode);var d=c.getLocalMatrix(),e=d.m02,f=d.m12;0!=(32&c._flags)&&(e=Math.round(e),f=Math.round(f)),b.transform(d.m00,d.m10,d.m01,d.m11,e,f),d=c.scissor,null!=d&&b.applyScissor(d.x,d.y,d.width,d.height),c.draw(b)}if(d=a._compMap.Director_2,null!=d)for(d=d.occludedScenes,e=0;e<d.length;)f=d[e],++e,k.render(f,b);for(d=a.firstChild;null!=d;)e=d.next,k.render(d,b),d=e;null!=c&&b.restore()},k.hitTestBackwards=function(a,b,c){if(null!=a){var d=k.hitTestBackwards(a.next,b,c);return null!=d?d:k.hitTest(a,b,c)}return null},k.__super__=s,k.prototype=q(s.prototype,{get_name:function(){return"Sprite_1"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return a>=0&&a<this.getNaturalWidth()&&b>=0&&b<this.getNaturalHeight()},getLocalMatrix:function(){return 0!=(8&this._flags)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value)),this._localMatrix},setAnchor:function(a,b){return this.anchorX.set__(a),this.anchorY.set__(b),this},setAlpha:function(a){return this.alpha.set__(a),this},onAdded:function(){0!=(64&this._flags)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a),this.y.update(a),this.rotation.update(a),this.scaleX.update(a),this.scaleY.update(a),this.alpha.update(a),this.anchorX.update(a),this.anchorY.update(a)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_1;if(null!=b)return b;a=a.parent}return null},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=m._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(64&a._flags)&&a._pointerOut.emit(b),a._flags&=-65,a._hoverConnection.dispose(),a._hoverConnection=null}))},set_visible:function(a){return this._flags=Ma.set(this._flags,2,a),a},onPointerDown:function(a){this.onHover(a),null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a),null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){0==(64&this._flags)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut)&&(null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover())},onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(64&this._flags)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:k});var Na=function(){};e["flambe.display.Graphics"]=Na,Na.__name__=!0,Na.prototype={__class__:Na};var oa=function(a){k.call(this),this.texture=a};e["flambe.display.ImageSprite"]=oa,oa.__name__=!0,oa.__super__=k,oa.prototype=q(k.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:oa});var I=e["flambe.display.Orientation"]={__ename__:!0,__constructs__:["Portrait","Landscape"]};I.Portrait=["Portrait",0],I.Portrait.toString=i,I.Portrait.__enum__=I,I.Landscape=["Landscape",1],I.Landscape.toString=i,I.Landscape.__enum__=I;var pa=function(){};e["flambe.display.Texture"]=pa,pa.__name__=!0,pa.__interfaces__=[Z],pa.prototype={__class__:pa};var fb=function(){};e["flambe.display.SubTexture"]=fb,fb.__name__=!0,fb.__interfaces__=[pa];var v=e["flambe.input.MouseButton"]={__ename__:!0,__constructs__:["Left","Middle","Right","Unknown"]};v.Left=["Left",0],v.Left.toString=i,v.Left.__enum__=v,v.Middle=["Middle",1],v.Middle.toString=i,v.Middle.__enum__=v,v.Right=["Right",2],v.Right.toString=i,v.Right.__enum__=v,v.Unknown=function(a){return a=["Unknown",3,a],a.__enum__=v,a.toString=i,a};var E=e["flambe.input.MouseCursor"]={__ename__:!0,__constructs__:["Default","Button","None"]};E.Default=["Default",0],E.Default.toString=i,E.Default.__enum__=E,E.Button=["Button",1],E.Button.toString=i,E.Button.__enum__=E,E.None=["None",2],E.None.toString=i,E.None.__enum__=E;var Oa=function(){this.init(0,0,0,null)};e["flambe.input.MouseEvent"]=Oa,Oa.__name__=!0,Oa.prototype={init:function(a,b,c,d){this.id=a,this.viewX=b,this.viewY=c,this.button=d},__class__:Oa};var qa=e["flambe.input.EventSource"]={__ename__:!0,__constructs__:["Mouse","Touch"]};qa.Mouse=function(a){return a=["Mouse",0,a],a.__enum__=qa,a.toString=i,a},qa.Touch=function(a){return a=["Touch",1,a],a.__enum__=qa,a.toString=i,a};var Pa=function(){this.init(0,0,0,null,null)};e["flambe.input.PointerEvent"]=Pa,Pa.__name__=!0,Pa.prototype={init:function(a,b,c,d,e){this.id=a,this.viewX=b,this.viewY=c,this.hit=d,this.source=e,this._stopped=!1},__class__:Pa};var Qa=function(a){this.id=a,this._source=qa.Touch(this)};e["flambe.input.TouchPoint"]=Qa,Qa.__name__=!0,Qa.prototype={init:function(a,b){this.viewX=a,this.viewY=b},__class__:Qa};var gb=function(){};e["flambe.math.FMath"]=gb,gb.__name__=!0,gb.clamp=function(a,b,c){return b>a?b:a>c?c:a};var La=function(){this.identity()};e["flambe.math.Matrix"]=La,La.__name__=!0,La.prototype={set:function(a,b,c,d,e,f){this.m00=a,this.m01=c,this.m02=e,this.m10=b,this.m11=d,this.m12=f},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,e){var f=Math.sin(e),e=Math.cos(e);this.set(e*c,f*c,-f*d,e*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b,this.m12+=this.m11*b+this.m10*a},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();return 0==d?!1:(a-=this.m02,b-=this.m12,c.x=(a*this.m11-b*this.m01)/d,c.y=(b*this.m00-a*this.m10)/d,!0)},__class__:La};var hb=function(){};e["flambe.math.Rectangle"]=hb,hb.__name__=!0,hb.prototype={contains:function(a,b){if(a-=this.x,0<=this.width){if(0>a||a>this.width)return!1}else if(a>0||a<this.width)return!1;if(b-=this.y,0<=this.height){if(0>b||b>this.height)return!1}else if(b>0||b<this.height)return!1;return!0},__class__:hb};var x=function(){};e["flambe.platform.BasicAsset"]=x,x.__name__=!0,x.__interfaces__=[Z],x.prototype={__class__:x};var M=function(a,b){var c=this;this.manifest=b,this._platform=a,this.promise=new ra,this._bytesLoaded=new G,this._pack=new sa(b,this);var d=ea.array(b);if(0==d.length)this.handleSuccess();else{for(var e=new G,f=0;f<d.length;){var g=d[f];++f;var h=e.get(g.name);null==h&&(h=[],e.set(g.name,h)),h.push(g)}for(this._assetsRemaining=ea.count(e),d=e.iterator();d.hasNext();)e=[d.next()],this.pickBestEntry(e[0],function(a){return function(d){if(null!=d){var e=b.getFullURL(d);try{c.loadEntry(e,d)}catch(f){c.handleError(d,"Unexpected error: "+W.string(f))}e=c.promise,e.set_total(e._total+d.bytes)}else d=a[0][0],M.isAudio(d.format)?c.handleLoad(d,D.getInstance()):c.handleError(d,"Could not find a supported format to load")}}(e))}};e["flambe.platform.BasicAssetPackLoader"]=M,M.__name__=!0,M.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}},M.prototype={pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var d=0;d<c.length;){var e=c[d];++d;for(var f=0;f<a.length;){var g=a[f];if(++f,g.format==e)return void b(g)}}b(null)})},loadEntry:function(){},getAssetFormats:function(){},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files}c.set(a.name,b),this._assetsRemaining-=1,0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,d=this._bytesLoaded.iterator();d.hasNext();)var e=d.next(),c=c+e;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(A.withFields(b,["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:M};var sa=function(a,b){this.disposed=!1,this._manifest=a,this.loader=b,this.textures=new G,this.sounds=new G,this.files=new G};e["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=sa,sa.__name__=!0,sa.__interfaces__=[ma],sa.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw A.withFields("Missing texture",["name",a]);return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw A.withFields("Missing file",["name",a]);return c},__class__:sa};var $=function(a){this._content=a};e["flambe.platform.BasicFile"]=$,$.__name__=!0,$.__interfaces__=[na],$.__super__=x,$.prototype=q(x.prototype,{toString:function(){return this._content},__class__:$});var pb=function(){};e["flambe.subsystem.MouseSystem"]=pb,pb.__name__=!0;var C=function(a){this._pointer=a,this._source=qa.Mouse(C._sharedEvent),this.down=new r,this.move=new r,this.up=new r,this.scroll=new r,this._y=this._x=0,this._cursor=E.Default,this._buttonStates=new U};e["flambe.platform.BasicMouse"]=C,C.__name__=!0,C.__interfaces__=[pb],C.prototype={submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,Ra.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(C._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null),this._pointer.submitMove(a,b,this._source),this.move.emit(C._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,Ra.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(C._sharedEvent))},submitScroll:function(a,b,c){return this._x=a,this._y=b,null==this.scroll._head?!1:(this.scroll.emit(c),!0)},prepare:function(a,b,c){this._x=a,this._y=b,C._sharedEvent.init(C._sharedEvent.id+1,a,b,c)},__class__:C};var Sa=function(){};e["flambe.subsystem.PointerSystem"]=Sa,Sa.__name__=!0,Sa.prototype={__class__:Sa};var u=function(a,b,c){null==c&&(c=!1),null==b&&(b=0),null==a&&(a=0),this.down=new r,this.move=new r,this.up=new r,this._x=a,this._y=b,this._isDown=c};e["flambe.platform.BasicPointer"]=u,u.__name__=!0,u.__interfaces__=[Sa],u.prototype={submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c),this._isDown=!0;var d=[],e=k.hitTest(m.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_1;null!=g&&d.push(g),f=f.parent}while(null!=f)}for(this.prepare(a,b,e,c),a=0;a<d.length;)if(b=d[a],++a,b.onPointerDown(u._sharedEvent),u._sharedEvent._stopped)return;this.down.emit(u._sharedEvent)}},submitMove:function(a,b,c){if(a!=this._x||b!=this._y){var d=[],e=k.hitTest(m.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_1;null!=g&&d.push(g),f=f.parent}while(null!=f)}for(this.prepare(a,b,e,c),a=0;a<d.length;)if(b=d[a],++a,b.onPointerMove(u._sharedEvent),u._sharedEvent._stopped)return;this.move.emit(u._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c),this._isDown=!1;var d=[],e=k.hitTest(m.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_1;null!=g&&d.push(g),f=f.parent}while(null!=f)}for(this.prepare(a,b,e,c),a=0;a<d.length;)if(b=d[a],++a,b.onPointerUp(u._sharedEvent),u._sharedEvent._stopped)return;this.up.emit(u._sharedEvent)}},prepare:function(a,b,c,d){this._x=a,this._y=b,u._sharedEvent.init(u._sharedEvent.id+1,a,b,c,d)},__class__:u};var N=function(a,b,c){this._x=this._y=0,this._parent=null,this.rootX=this.rootY=0,this.root=a,this._width=b,this._height=c};e["flambe.platform.BasicTexture"]=N,N.__name__=!0,N.__interfaces__=[fb],N.__super__=x,N.prototype=q(x.prototype,{subTexture:function(a,b,c,d){return c=this.root.createTexture(c,d),c._parent=this,c._x=a,c._y=b,c.rootX=this.rootX+a,c.rootY=this.rootY+b,c},get_width:function(){return this._width},get_height:function(){return this._height},__class__:N});var ib=function(){};e["flambe.subsystem.TouchSystem"]=ib,ib.__name__=!0;var ja=function(a,b){null==b&&(b=4),this._pointer=a,this._maxPoints=b,this._pointMap=new U,this._points=[],this.down=new r,this.move=new r,this.up=new r};e["flambe.platform.BasicTouch"]=ja,ja.__name__=!0,ja.__interfaces__=[ib],ja.prototype={submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var d=new Qa(a);d.init(b,c),this._pointMap.set(a,d),this._points.push(d),null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source)),this.down.emit(d)}},submitMove:function(a,b,c){a=this._pointMap.get(a),null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var d=this._pointMap.get(a);null!=d&&(d.init(b,c),this._pointMap.remove(a),y.remove(this._points,d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit(d))},__class__:ja};var ta=function(){};e["flambe.sound.Sound"]=ta,ta.__name__=!0,ta.__interfaces__=[Z];var D=function(){this._playback=new ua(this)};e["flambe.platform.DummySound"]=D,D.__name__=!0,D.__interfaces__=[ta],D.getInstance=function(){return null==D._instance&&(D._instance=new D),D._instance},D.__super__=x,D.prototype=q(x.prototype,{__class__:D});var jb=function(){};e["flambe.sound.Playback"]=jb,jb.__name__=!0,jb.__interfaces__=[K];var ua=function(a){this._sound=a,this.volume=new z(0),this._complete=new B(!0)};e["flambe.platform.DummyPlayback"]=ua,ua.__name__=!0,ua.__interfaces__=[jb],ua.prototype={__class__:ua};var ka=function(){this.down=new r,this.move=new r,this.up=new r};e["flambe.platform.DummyTouch"]=ka,ka.__name__=!0,ka.__interfaces__=[ib],ka.prototype={__class__:ka};var aa=function(){this._entries=[]};e["flambe.platform.EventGroup"]=aa,aa.__name__=!0,aa.__interfaces__=[K],aa.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1),this._entries.push(new Ta(a,b,c))},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){
d.dispose(),c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a,c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:aa};var Ta=function(a,b,c){this.dispatcher=a,this.type=b,this.listener=c};e["flambe.platform._EventGroup.Entry"]=Ta,Ta.__name__=!0,Ta.prototype={__class__:Ta};var va=function(){};e["flambe.platform.InternalGraphics"]=va,va.__name__=!0,va.__interfaces__=[Na],va.prototype={__class__:va};var Ua=function(){};e["flambe.subsystem.RendererSystem"]=Ua,Ua.__name__=!0,Ua.prototype={__class__:Ua};var wa=function(){};e["flambe.platform.InternalRenderer"]=wa,wa.__name__=!0,wa.__interfaces__=[Ua],wa.prototype={__class__:wa};var R=function(){this._tickables=[]};e["flambe.platform.MainLoop"]=R,R.__name__=!0,R.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_4;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b))return void c.onUpdate(b);for(c=a.firstComponent;null!=c;){var d=c.next;0==(1&c._flags)&&(c._flags|=1,c.onStart()),c.onUpdate(b),c=d}for(c=a.firstChild;null!=c;)d=c.next,R.updateEntity(c,b),c=d},R.prototype={update:function(a){if(!(0>=a)){a>1&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}m.volume.update(a),R.updateEntity(m.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),k.render(m.root,b),a.didRender())},__class__:R};var Ra=function(){};e["flambe.platform.MouseCodes"]=Ra,Ra.__name__=!0,Ra.toButton=function(a){switch(a){case 0:return v.Left;case 1:return v.Middle;case 2:return v.Right}return v.Unknown(a)};var Va=function(){};e["flambe.platform.TextureRoot"]=Va,Va.__name__=!0,Va.prototype={__class__:Va};var kb=function(){};e["flambe.platform.Tickable"]=kb,kb.__name__=!0,kb.prototype={__class__:kb};var xa=function(a,b){this._firstDraw=!1,this._canvasCtx=a.getContext("2d",{alpha:b})};e["flambe.platform.html.CanvasGraphics"]=xa,xa.__name__=!0,xa.__interfaces__=[va],xa.prototype={save:function(){this._canvasCtx.save()},transform:function(a,b,c,d,e,f){this._canvasCtx.transform(a,b,c,d,e,f)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,e,f,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,e,f,g),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+d|0,a.rootY+e|0,0|f,0|g,0|b,0|c,0|f,0|g)},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath(),this._canvasCtx.rect(0|a,0|b,0|c,0|d),this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},__class__:xa};var S=function(a){this.graphics=new xa(a,!0),this._hasGPU=new B(!0)};e["flambe.platform.html.CanvasRenderer"]=S,S.__name__=!0,S.__interfaces__=[wa],S.prototype={get_type:function(){return F.Canvas},createTextureFromImage:function(a){return a=new ba(S.CANVAS_TEXTURES?j.createCanvas(a):a),a.createTexture(a.width,a.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:S};var ya=function(a,b,c){N.call(this,a,b,c)};e["flambe.platform.html.CanvasTexture"]=ya,ya.__name__=!0,ya.__super__=N,ya.prototype=q(N.prototype,{__class__:ya});var ba=function(a){this.image=a,this.width=a.width,this.height=a.height};e["flambe.platform.html.CanvasTextureRoot"]=ba,ba.__name__=!0,ba.__interfaces__=[Va],ba.__super__=x,ba.prototype=q(x.prototype,{createTexture:function(a,b){return new ya(this,a,b)},__class__:ba});var l=function(a,b){M.call(this,a,b)};e["flambe.platform.html.HtmlAssetPackLoader"]=l,l.__name__=!0,l.detectImageFormats=function(a){var b,c=[f.PNG,f.JPG,f.GIF],d=2;b=window.document.createElement("img"),b.onload=b.onerror=function(){1==b.width&&c.unshift(f.WEBP),--d,0==d&&a(c)},b.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var e;e=window.document.createElement("img"),e.onload=e.onerror=function(){1==e.width&&c.unshift(f.JXR),--d,0==d&&a(c)},e.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="},l.detectAudioFormats=function(){var a;if(a=window.document.createElement("audio"),null==a||null==Ca(a,a.canPlayType))return[];var b=new O("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!o.get_supported()&&b.match(c))return[];for(var b=[{format:f.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:f.MP3,mimeType:"audio/mpeg"},{format:f.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:f.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:f.WAV,mimeType:"audio/wav"}],c=[],d=0;d<b.length;){var e=b[d];++d;var g="";try{g=a.canPlayType(e.mimeType)}catch(h){}""!=g&&c.push(e.format)}return c},l.supportsBlob=function(){if(l._detectBlobSupport){if(l._detectBlobSupport=!1,new O("\\bSilk\\b","").match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;if(a.open("GET",".",!0),""!=a.responseType)return!1;if(a.responseType="blob","blob"!=a.responseType)return!1;l._URL=j.loadExtension("URL").value}return null!=l._URL&&null!=l._URL.createObjectURL},l.__super__=M,l.prototype=q(M.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d;d=window.document.createElement("img");var e=new aa;e.addDisposingListener(d,"load",function(){l.supportsBlob()&&l._URL.revokeObjectURL(d.src);var a=c._platform.getRenderer().createTextureFromImage(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)}),e.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")}),l.supportsBlob()?this.download(a,b,"blob",function(a){d.src=l._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(o.get_supported())this.download(a,b,"arraybuffer",function(a){o.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new o(a))},function(){c.handleLoad(b,D.getInstance())})});else{var f;f=window.document.createElement("audio"),f.preload="auto";var g=++l._mediaRefCount;null==l._mediaElements&&(l._mediaElements=new U),l._mediaElements.set(g,f),e=new aa,e.addDisposingListener(f,"canplaythrough",function(){l._mediaElements.remove(g),c.handleLoad(b,new ca(f))}),e.addDisposingListener(f,"error",function(){l._mediaElements.remove(g);var a=f.error.code;3==a||4==a?c.handleLoad(b,D.getInstance()):c.handleError(b,"Failed to load audio: "+f.error.code)}),e.addListener(f,"progress",function(){if(0<f.buffered.length&&0<f.duration){var a=f.buffered.end(0)/f.duration;c.handleProgress(b,a*b.bytes|0)}}),f.src=a,f.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new $(a))})}},getAssetFormats:function(a){var b=this;null==l._supportedFormats&&(l._supportedFormats=new ra,l.detectImageFormats(function(a){l._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(l.detectAudioFormats()).concat([f.Data]))})),l._supportedFormats.get(a)},download:function(a,b,c,d){var e=this,f=null,g=null,h=0,i=!1,j=function(){i&&(i=!1,window.clearInterval(h))},k=3,l=function(){return--k,k>=0?(g(),!0):!1},g=function(){j(),null!=f&&f.abort(),f=new XMLHttpRequest,f.open("GET",a,!0),f.responseType=c;var g=0;f.onprogress=function(a){i||(i=!0,h=window.setInterval(function(){4!=f.readyState&&5e3<Date.now()-g&&!l()&&(j(),e.handleError(b,"Download stalled"))},1e3)),g=Date.now(),e.handleProgress(b,a.loaded)},f.onerror=function(){0==f.status&&l()||(j(),e.handleError(b,"HTTP error "+f.status))},f.onload=function(){var a=f.response;null==a&&(a=f.responseText),j(),d(a)},f.send()};g()},__class__:l});var Wa=function(){};e["flambe.subsystem.ExternalSystem"]=Wa,Wa.__name__=!0,Wa.prototype={__class__:Wa};var la=function(){};e["flambe.platform.html.HtmlExternal"]=la,la.__name__=!0,la.__interfaces__=[Wa],la.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,d=c,e=0,f=a.split(".");e<f.length;){var g=f[e];++e,c=d,d=J.field(c,g)}return d.apply(c,b)},bind:function(a,b){J.setField(window,a,b)},__class__:la};var ia=function(a,b){C.call(this,a),this._canvas=b};e["flambe.platform.html.HtmlMouse"]=ia,ia.__name__=!0,ia.__super__=C,ia.prototype=q(C.prototype,{__class__:ia});var ca=function(a){this.audioElement=a};e["flambe.platform.html.HtmlSound"]=ca,ca.__name__=!0,ca.__interfaces__=[ta],ca.__super__=x,ca.prototype=q(x.prototype,{__class__:ca});var qb=function(){};e["flambe.subsystem.StageSystem"]=qb,qb.__name__=!0;var Q=function(a){var b=this;this._canvas=a,this.resize=new V,this.scaleFactor=Q.computeScaleFactor(),1!=this.scaleFactor&&(j.setVendorStyle(this._canvas,"transform-origin","top left"),j.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")")),j.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){j.callLater(Ca(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser()),window.addEventListener("resize",Ca(this,this.onWindowResize),!1),this.onWindowResize(null),this.orientation=new B(null),null!=window.orientation&&(window.addEventListener("orientationchange",Ca(this,this.onOrientationChange),!1),this.onOrientationChange(null)),this.fullscreen=new B(!1),j.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1),this.updateFullscreen()};e["flambe.platform.html.HtmlStage"]=Q,Q.__name__=!0,Q.__interfaces__=[qb],Q.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),b=j.loadExtension("backingStorePixelRatio",b).value;return null==b&&(b=1),a/=b,b=window.screen.height,1136<a*window.screen.width||a*b>1136?1:a},Q.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;return this._canvas.width==c&&this._canvas.height==d?!1:(this._canvas.width=0|c,this._canvas.height=0|d,this.resize.emit(),!0)},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px",b.width=window.innerWidth+"px",b.overflow="visible",j.callLater(function(){j.hideMobileBrowser(),j.callLater(function(){b.height=window.innerHeight+"px",a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(j.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(1==j.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value)},__class__:Q};var j=function(){};e["flambe.platform.html.HtmlUtil"]=j,j.__name__=!0,j.callLater=function(a,b){null==b&&(b=0),window.setTimeout(a,b)},j.hideMobileBrowser=function(){window.scrollTo(1,0)},j.loadExtension=function(a,b){null==b&&(b=window);var c=J.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+y.substr(a,1,null),d=0,e=j.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;var g=f+c,h=J.field(b,g);if(null!=h)return{prefix:f,field:g,value:h}}return{prefix:null,field:null,value:null}},j.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];if(++c,d=j.loadExtension(d,b),null!=d.field)return d}return{prefix:null,field:null,value:null}},j.polyfill=function(a,b){null==b&&(b=window);var c=j.loadExtension(a,b).value;return null==c?!1:(b[a]=c,!0)},j.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,e=j.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d,a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)},j.addVendorListener=function(a,b,c,d){for(var e=0,f=j.VENDOR_PREFIXES;e<f.length;){var g=f[e];++e,a.addEventListener(g+b,c,d)}a.addEventListener(b,c,d)},j.orientation=function(a){switch(a){case-90:case 90:return I.Landscape;default:return I.Portrait}},j.createEmptyCanvas=function(a,b){var c;return c=window.document.createElement("canvas"),c.width=a,c.height=b,c},j.createCanvas=function(a){var b=j.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");return c.save(),c.globalCompositeOperation="copy",c.drawImage(a,0,0),c.restore(),b},j.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)},Math.cos=function(a){return 0==a?1:b(a)}}};var o=function(a){this.buffer=a};e["flambe.platform.html.WebAudioSound"]=o,o.__name__=!0,o.__interfaces__=[ta],o.get_supported=function(){if(o._detectSupport){o._detectSupport=!1;var a=j.loadExtension("AudioContext").value;null!=a&&(o.ctx=new a,o.gain=o.createGain(),o.gain.connect(o.ctx.destination),m.volume.watch(function(a){o.gain.gain.value=a}))}return null!=o.ctx},o.createGain=function(){return null!=o.ctx.createGain?o.ctx.createGain():o.ctx.createGainNode()},o.__super__=x,o.prototype=q(x.prototype,{__class__:o});var Xa=function(){this._transitor=null};e["flambe.scene.Director"]=Xa,Xa.__name__=!0,Xa.__super__=s,Xa.prototype=q(s.prototype,{get_name:function(){return"Director_2"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a,c.dispose()}this.scenes=[],this.occludedScenes=[],this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return a>0?this.scenes[a-1]:null},show:function(a){a=a._compMap.Scene_3,null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;a>0;){var b=this.scenes[--a]._compMap.Scene_3;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[],a=this.get_topScene(),null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},__class__:Xa});var lb=function(){};e["flambe.scene._Director.Transitor"]=lb,lb.__name__=!0,lb.prototype={update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete(),this._onComplete()},__class__:lb};var Ya=function(){};e["flambe.scene.Scene"]=Ya,Ya.__name__=!0,Ya.__super__=s,Ya.prototype=q(s.prototype,{get_name:function(){return"Scene_3"},__class__:Ya});var mb=function(){};e["flambe.scene.Transition"]=mb,mb.__name__=!0,mb.prototype={update:function(){return!0},complete:function(){},__class__:mb};var F=e["flambe.subsystem.RendererType"]={__ename__:!0,__constructs__:["Stage3D","WebGL","Canvas"]};F.Stage3D=["Stage3D",0],F.Stage3D.toString=i,F.Stage3D.__enum__=F,F.WebGL=["WebGL",1],F.WebGL.toString=i,F.WebGL.__enum__=F,F.Canvas=["Canvas",2],F.Canvas.toString=i,F.Canvas.__enum__=F;var za=function(){};e["flambe.swf.Symbol"]=za,za.__name__=!0,za.prototype={__class__:za};var Aa=function(a,b){this._name=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],c[1],c[2],c[3]),c=a.origin,null!=c?(this.anchorX=c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0};e["flambe.swf.BitmapSymbol"]=Aa,Aa.__name__=!0,Aa.__interfaces__=[za],Aa.prototype={createSprite:function(){var a=new oa(this.texture);return a.setAnchor(this.anchorX,this.anchorY),a},__class__:Aa};var Fa=function(a,b){this._file=a.getFile(b+"/library.json");var c=JSON.parse(this._file.toString());this._symbols=new G,this.frameRate=c.frameRate;for(var d=[],e=0,f=c.movies;e<f.length;){var g=f[e];++e,g=new Ba(this,g),d.push(g),this._symbols.set(g._name,g)}for(c=c.textureGroups,(1!=c[0].scaleFactor||1<c.length)&&null,c=c[0].atlases,e=0;e<c.length;){var h=c[e];for(++e,f=a.getTexture(b+"/"+A.removeFileExtension(h.file)),g=0,h=h.textures;g<h.length;){var i=h[g];++g,i=new Aa(i,f),this._symbols.set(i._name,i)}}for(c=0;c<d.length;)for(f=d[c],++c,e=0,f=f.layers;e<f.length;)for(g=f[e],++e,g=g.keyframes,h=g.length,i=0;h>i;){var j=i++,k=g[j];if(null!=k.symbolName){var l=this._symbols.get(k.symbolName);k.symbol=l}k.tweened&&1==k.duration&&h>j+1&&(j=g[j+1],!j.visible||null==j.symbolName)&&(k.visible=!1)}};e["flambe.swf.Library"]=Fa,Fa.__name__=!0,Fa.prototype={createSprite:function(a,b){null==b&&(b=!0);var c=this._symbols.get(a);if(null==c){if(b)throw A.withFields("Missing symbol",["name",a]);return null}return c.createSprite()},__class__:Fa};var ha=function(a){this._oneshotSprite=this._loopingSprite=null,s.call(this),this._lib=a,this._root=new L,this.movie=new B(null),this.setCache(!0)};e["flambe.swf.MoviePlayer"]=ha,ha.__name__=!0,ha.__super__=s,ha.prototype=q(s.prototype,{get_name:function(){return"MoviePlayer_0"},setCache:function(a){return this._cache=a?new G:null,this},loop:function(a,b){return null==b&&(b=!0),(b||null==this._loopingSprite||this._loopingSprite.symbol._name!=a)&&(this._oneshotSprite=null,this._loopingSprite=this.playFromCache(a)),this},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this._root.dispose(),this._oneshotSprite=this._loopingSprite=null,this.movie.set__(null)},onUpdate:function(a){null!=this._oneshotSprite&&this._oneshotSprite._position+a>this._oneshotSprite.symbol.duration&&(this._oneshotSprite=null,this.setCurrent(this._loopingSprite))},playFromCache:function(a){var b;return null!=this._cache?(b=this._cache.get(a),null!=b?b.set_position(0):(b=this.createMovie(a),this._cache.set(a,b))):b=this.createMovie(a),this.setCurrent(b)},createMovie:function(a){return a=this._lib.createSprite(a,!0),null!=this._decorator&&this._decorator(a),a},setCurrent:function(a){return this._root.add(a),this.movie.set__(a)},__class__:ha});var da=function(a){this._looped=null,k.call(this),this.symbol=a,this.speed=new z(1),this._animators=Array(a.layers.length);for(var b=0,c=this._animators.length;c>b;){var d=b++;this._animators[d]=new Za(a.layers[d])}this._position=this._frame=0,this["goto"](1)};e["flambe.swf.MovieSprite"]=da,da.__name__=!0,da.__super__=k,da.prototype=q(k.prototype,{onAdded:function(){k.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a,this.owner.addChild(c.content)}},onRemoved:function(){k.prototype.onRemoved.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a,this.owner.removeChild(c.content)}},onUpdate:function(a){switch(k.prototype.onUpdate.call(this,a),this.speed.update(a),384&this._flags){case 0:this._position+=this.speed._value*a,this._position>this.symbol.duration&&(this._position%=this.symbol.duration,null!=this._looped&&this._looped.emit());break;case 256:this._flags&=-257}this["goto"](this._position*this.symbol.frameRate)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,c=this._animators;b<c.length;){var d=c[b];++b,d.needsKeyframeUpdate=!0,d.keyframeIdx=0}for(b=0,c=this._animators;b<c.length;)d=c[b],++b,d.composeFrame(a);this._frame=a}},set_position:function(a){return this._position=gb.clamp(a,0,this.symbol.duration)},set_paused:function(a){return this._flags=Ma.set(this._flags,128,a),a},get_looped:function(){return null==this._looped&&(this._looped=new V),this._looped},rewind:function(){this._position=0,this._flags|=256},__class__:da});var Za=function(a){if(this.keyframeIdx=0,this.needsKeyframeUpdate=!1,this.layer=a,this.content=new L,a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);for(var b=0,c=this._sprites.length;c>b;){var d=b++,e=a.keyframes[d];this._sprites[d]=d>0&&a.keyframes[d-1].symbol==e.symbol?this._sprites[d-1]:null==e.symbol?new k:e.symbol.createSprite()}this.content.add(this._sprites[0])}};e["flambe.swf._MovieSprite.LayerAnimator"]=Za,Za.__name__=!0,Za.prototype={composeFrame:function(a){if(null!=this._sprites){var b=this.layer.keyframes,c=b.length-1;if(a>this.layer.frames)this.content._compMap.Sprite_1.set_visible(!1),this.keyframeIdx=c,this.needsKeyframeUpdate=!0;else{for(;this.keyframeIdx<c&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx,this.needsKeyframeUpdate=!0;var d;this.needsKeyframeUpdate?(this.needsKeyframeUpdate=!1,d=this._sprites[this.keyframeIdx],d!=this.content._compMap.Sprite_1&&(fa.getClass(d)==da&&d.rewind(),this.content.add(d))):d=this.content._compMap.Sprite_1;var e=b[this.keyframeIdx],f=e.visible&&null!=e.symbol;if(d.set_visible(f),f){var f=e.x,g=e.y,h=e.scaleX,i=e.scaleY,j=e.skewX,k=e.skewY,l=e.alpha;if(e.tweened&&this.keyframeIdx<c){if(a=(a-e.index)/e.duration,c=e.ease,0!=c){var m;0>c?(m=1-a,m=1-m*m,c=-c):m=a*a,a=c*m+(1-c)*a}b=b[this.keyframeIdx+1],f+=(b.x-f)*a,g+=(b.y-g)*a,h+=(b.scaleX-h)*a,i+=(b.scaleY-i)*a,j+=(b.skewX-j)*a,k+=(b.skewY-k)*a,l+=(b.alpha-l)*a}b=d.getLocalMatrix(),a=Math.sin(j),j=Math.cos(j),c=Math.sin(k),k=Math.cos(k),b.set(k*h,c*h,-a*i,j*i,f,g),b.translate(-e.pivotX,-e.pivotY),d.alpha.set__(l)}}}},__class__:Za};var Ba=function(a,b){this._name=b.id,this.frameRate=a.frameRate,this.frames=0,this.layers=Array(b.layers.length);for(var c=0,d=this.layers.length;d>c;){var e=c++,f=new $a(b.layers[e]);this.frames=Math.max(f.frames,this.frames),this.layers[e]=f}this.duration=this.frames/this.frameRate};e["flambe.swf.MovieSymbol"]=Ba,Ba.__name__=!0,Ba.__interfaces__=[za],Ba.prototype={createSprite:function(){return new da(this)},__class__:Ba};var $a=function(a){this.empty=!0,this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var c=0,d=this.keyframes.length;d>c;){var e=c++,b=new ab(a.keyframes[e],b);this.keyframes[e]=b,this.empty=this.empty&&null==b.symbolName}this.frames=null!=b?b.index+b.duration:0};e["flambe.swf.MovieLayer"]=$a,$a.__name__=!0,$a.prototype={__class__:$a};var ab=function(a,b){this.ease=0,this.visible=this.tweened=!0,this.alpha=1,this.skewX=this.skewY=this.pivotX=this.pivotY=0,this.scaleX=this.scaleY=1,this.x=this.y=0,this.symbol=null,this.index=null!=b?b.index+b.duration:0,this.duration=a.duration,this.label=a.label,this.symbolName=a.ref;var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]),c=a.scale,null!=c&&(this.scaleX=c[0],this.scaleY=c[1]),c=a.skew,null!=c&&(this.skewX=c[0],this.skewY=c[1]),c=a.pivot,null!=c&&(this.pivotX=c[0],this.pivotY=c[1]),null!=a.alpha&&(this.alpha=a.alpha),null!=a.visible&&(this.visible=a.visible),null!=a.tweened&&(this.tweened=a.tweened),null!=a.ease&&(this.ease=a.ease)};e["flambe.swf.MovieKeyframe"]=ab,ab.__name__=!0,ab.prototype={__class__:ab};var cb=function(){};e["flambe.util.Assert"]=cb,cb.__name__=!0,cb.that=function(){};var Ma=function(){};e["flambe.util.BitSets"]=Ma,Ma.__name__=!0,Ma.set=function(a,b,c){return c?a|b:a&~b};var ra=function(){this.success=new r,this.error=new r,this.progressChanged=new V,this.hasResult=!1,this._total=this._progress=0};e["flambe.util.Promise"]=ra,ra.__name__=!0,ra.prototype={set_result:function(a){if(this.hasResult)throw"Promise result already assigned";return this._result=a,this.hasResult=!0,this.success.emit(a),a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){return this._progress!=a&&(this._progress=a,this.progressChanged.emit()),a},set_total:function(a){return this._total!=a&&(this._total=a,this.progressChanged.emit()),a},__class__:ra};var V=function(a){t.call(this,a)};e["flambe.util.Signal0"]=V,V.__name__=!0,V.__super__=t,V.prototype=q(t.prototype,{connect:function(a,b){return null==b&&(b=!1),this.connectImpl(a,b)},emit:function(){var a=this;this._head==t.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:V});var Ia=function(a){this.next=null,this.fn=a};e["flambe.util._SignalBase.Task"]=Ia,Ia.__name__=!0,Ia.prototype={__class__:Ia};var A=function(){};e["flambe.util.Strings"]=A,A.__name__=!0,A.getFileExtension=function(a){var b=a.lastIndexOf(".");return b>0?y.substr(a,b+1,null):null},A.removeFileExtension=function(a){var b=a.lastIndexOf(".");return b>0?y.substr(a,0,b):a},A.getUrlExtension=function(a){var b=a.lastIndexOf("?");return b>=0&&(a=y.substr(a,0,b)),b=a.lastIndexOf("/"),b>=0&&(a=y.substr(a,b+1,null)),A.getFileExtension(a)},A.joinPath=function(a,b){return 0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/"),a+b},A.withFields=function(a,b){var c=b.length;if(c>0){for(var a=0<a.length?a+" [":a+"[",d=0;c>d;){d>0&&(a+=", ");var e=b[d],f=b[d+1];if(W.is(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+W.string(f),d+=2}a+="]"}return a};var U=function(){this.h={}};e["haxe.ds.IntMap"]=U,U.__name__=!0,U.__interfaces__=[bb],U.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){return this.h.hasOwnProperty(a)?(delete this.h[a],!0):!1},__class__:U};var G=function(){this.h={}};e["haxe.ds.StringMap"]=G,G.__name__=!0,G.__interfaces__=[bb],G.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},keys:function(){var a,b=[];for(a in this.h)this.h.hasOwnProperty(a)&&b.push(a.substr(1));return y.iter(b)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},__class__:G};var rb=function(){};e["haxe.io.Bytes"]=rb,rb.__name__=!0;var nb=function(){};e["haxe.io.Eof"]=nb,nb.__name__=!0,nb.prototype={toString:function(){return"Eof"},__class__:nb};var w=function(){};e["js.Boot"]=w,w.__name__=!0,w.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__},w.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;switch("function"==c&&(a.__name__||a.__ename__)&&(c="object"),c){case"object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"	",d=2,e=a.length;e>d;)var f=d++,c=2!=f?c+(","+w.__string_rec(a[f],b)):c+w.__string_rec(a[f],b);return c+")"}for(c=a.length,d="[",b+="	",e=0;c>e;)f=e++,d+=(f>0?",":"")+w.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(g){return"???"}if(null!=d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null,d="{\n",b+="	",e=null!=a.hasOwnProperty;for(c in a)(!e||a.hasOwnProperty(c))&&("prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+w.__string_rec(a[c],b)));return b=b.substring(1),d+("\n"+b+"}");case"function":return"<function>";case"string":return a;default:return""+a}},w.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;e>d;){var f=d++,f=c[f];if(f==b||w.__interfLoop(f,b))return!0}return w.__interfLoop(a.__super__,b)},w.__instanceof=function(a,b){if(null==b)return!1;switch(b){case vb:return(0|a)===a;case sb:return"number"==typeof a;case tb:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case wb:return!0;default:return null==a?!1:"function"==typeof b&&(a instanceof b||w.__interfLoop(w.getClass(a),b))?!0:b==xb&&null!=a.__name__||b==yb&&null!=a.__ename__?!0:a.__enum__==b}};var ub=0;Math.NaN=Number.NaN,Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,e.Math=Math,Math.isFinite=function(a){return isFinite(a)},Math.isNaN=function(a){return isNaN(a)},String.prototype.__class__=e.String=String,String.__name__=!0,e.Array=Array,Array.__name__=!0,Date.prototype.__class__=e.Date=Date,Date.__name__=["Date"];var vb=e.Int={__name__:["Int"]},wb=e.Dynamic={__name__:["Dynamic"]},sb=e.Float=Number;sb.__name__=["Float"];var tb=e.Bool=Boolean;tb.__ename__=["Bool"];var xb=e.Class={__name__:["Class"]},yb={};H.__meta__={obj:{assets:[{bootstrap:[{bytes:278502,md5:"f80fd554af7d307945e7b86b38296cf3",name:"dnt/atlas0.png"},{bytes:7253,md5:"cc58730607b0d58a866e364e22951978",name:"dnt/library.json"},{bytes:36864,md5:"0e8fec984b0199e1ae1693f4bd22a922",name:"dnt/sound.mp3"}]}]}},H._supportsCrossOrigin=function(){var a;return a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials}(),h.manifest=new H,P.instance=new P,t.DISPATCHING_SENTINEL=new T(null,null),m.root=new L,m.uncaughtError=new r,m.hidden=new B(!1),m.volume=new z(1),m._platform=P.instance,m._calledInit=!1,k._scratchPoint=new Ka,C._sharedEvent=new Oa,u._sharedEvent=new Pa,S.CANVAS_TEXTURES=new O("(iPhone|iPod|iPad)","").match(window.navigator.userAgent),l._mediaRefCount=0,l._detectBlobSupport=!0,j.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"],j.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&new O("Mobile(/.*)? Safari","").match(window.navigator.userAgent),o._detectSupport=!0,h.main()}();

}
/*
     FILE ARCHIVED ON 16:14:48 Jul 27, 2015 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 16:30:11 Jun 21, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.678
  exclusion.robots: 0.031
  exclusion.robots.policy: 0.018
  esindex: 0.014
  cdx.remote: 106.253
  LoadShardBlock: 331.182 (3)
  PetaboxLoader3.datanode: 730.478 (5)
  load_resource: 1052.47 (2)
  PetaboxLoader3.resolve: 364.162 (2)
*/